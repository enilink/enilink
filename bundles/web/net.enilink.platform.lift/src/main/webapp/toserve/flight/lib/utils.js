define(["./debug"],function(t){"use strict";function e(){var e=t.enabled&&!o.isEnumerable(Object,"getOwnPropertyDescriptor");if(e)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(r){return!1}return e}var r=[],n=100,o={isDomObj:function(t){return!(!t.nodeType&&t!==window)},toArray:function(t,e){return r.slice.call(t,e)},merge:function(){for(var t=arguments.length,e=0,r=new Array(t+1);t>e;e++)r[e+1]=arguments[e];return 0===t?{}:(r[0]={},r[r.length-1]===!0&&(r.pop(),r.unshift(!0)),$.extend.apply(void 0,r))},push:function(t,e,r){return t&&Object.keys(e||{}).forEach(function(n){if(t[n]&&r)throw new Error('utils.push attempted to overwrite "'+n+'" while running in protected mode');"object"==typeof t[n]&&"object"==typeof e[n]?this.push(t[n],e[n]):t[n]=e[n]},this),t},isEnumerable:function(t,e){return Object.keys(t).indexOf(e)>-1},compose:function(){var t=arguments;return function(){for(var e=arguments,r=t.length-1;r>=0;r--)e=[t[r].apply(this,e)];return e[0]}},uniqueArray:function(t){for(var e={},r=[],n=0,o=t.length;o>n;++n)e.hasOwnProperty(t[n])||(r.push(t[n]),e[t[n]]=1);return r},debounce:function(t,e,r){"number"!=typeof e&&(e=n);var o,u;return function(){var n=this,i=arguments,c=function(){o=null,r||(u=t.apply(n,i))},a=r&&!o;return clearTimeout(o),o=setTimeout(c,e),a&&(u=t.apply(n,i)),u}},throttle:function(t,e){"number"!=typeof e&&(e=n);var r,o,u,i,c,a,p=this.debounce(function(){c=i=!1},e);return function(){r=this,o=arguments;var n=function(){u=null,c&&(a=t.apply(r,o)),p()};return u||(u=setTimeout(n,e)),i?c=!0:(i=!0,a=t.apply(r,o)),p(),a}},countThen:function(t,e){return function(){return--t?void 0:e.apply(this,arguments)}},delegate:function(t){return function(e,r){var n,o=$(e.target);Object.keys(t).forEach(function(u){return!e.isPropagationStopped()&&(n=o.closest(u)).length?(r=r||{},r.el=n[0],t[u].apply(this,[e,r])):void 0},this)}},once:function(t){var e,r;return function(){return e?r:(e=!0,r=t.apply(this,arguments))}},propertyWritability:function(t,r,n){e()&&t.hasOwnProperty(r)&&Object.defineProperty(t,r,{writable:n})},mutateProperty:function(t,r,n){var o;return e()&&t.hasOwnProperty(r)?(o=Object.getOwnPropertyDescriptor(t,r).writable,Object.defineProperty(t,r,{writable:!0}),n.call(t),void Object.defineProperty(t,r,{writable:o})):void n.call(t)}};return o});
